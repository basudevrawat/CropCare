{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-12 text-center">
        <h1 class="mb-4">CropCare Analysis Results</h1>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card p-4">
            <h3 class="text-center mb-3">Uploaded Image</h3>
            <img src="{{ image_file }}" class="img-fluid rounded mx-auto d-block" style="max-height: 400px;" alt="Uploaded plant image">
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="result-container">
            <h3 class="text-center mb-4">Diagnosis</h3>
            <div class="mb-3">
                <h4>Disease: {{ result.name }}</h4>
                <p><strong>Confidence:</strong> {{ (result.confidence * 100)|round(2) }}%</p>
            </div>
            
            <div class="mb-3">
                <h5>Description:</h5>
                <p>{{ result.description }}</p>
            </div>
            
            <div class="mb-4">
                <h5>Treatment Recommendation:</h5>
                <p>{{ result.treatment }}</p>
            </div>
            
            <div class="audio-control text-center">
                <h5>Listen to the diagnosis:</h5>
                <audio controls class="audio-player">
                    <source src="{{ audio_file }}" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
            </div>
        </div>
    </div>
</div>

<div class="row mt-4">
    <div class="col-12 text-center">
        <a href="/" class="btn btn-success">
            <i class="bi bi-arrow-left"></i> Try Another Image
        </a>
    </div>
</div>
{% endblock %} 